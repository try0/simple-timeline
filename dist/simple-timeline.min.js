/*! simple-timeline v0.0.1 | Ryo Tsunoda | license: MIT */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SimpleTimeline=t():e.SimpleTimeline=t()}(this,(function(){return(()=>{"use strict";var e={d:(t,i)=>{for(var n in i)e.o(i,n)&&!e.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:i[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function i(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function n(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function s(e,t,i){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return i}e.d(t,{default:()=>m});var a=new WeakSet,o=new WeakSet,l=new WeakSet,c=new WeakSet,d=new WeakSet,u=new WeakSet,h=new WeakSet,p=new WeakSet,m=function(){function e(t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),n(this,p),n(this,h),n(this,u),n(this,d),n(this,c),n(this,l),n(this,o),n(this,a),r(this,"container",void 0),r(this,"timeline",void 0),r(this,"option",{}),r(this,"items",[]),this.container=t,null!=i&&(null!=i.option&&(this.option=i.option),null!=i.items&&(this.items=i.items)),this.option=s(this,h,k).call(this,this.option),this.initializeStyleSheet(),this.renderTimeline()}var t,m,g;return t=e,m=[{key:"initializeStyleSheet",value:function(){var e=document.styleSheets,t=e[e.length-1];if(null!=this.option.currentLabel){var i=" .st-timeline .st-item-container.st-current .st-datetime::before { content: '"+this.option.currentLabel+"' !important }",n=this.container.id;if(n)return void t.insertRule("#"+n+i,t.cssRules.length);t.insertRule(i,t.cssRules.length)}}},{key:"clearItems",value:function(){switch(this.container.firstChild&&this.container.removeChild(this.container.firstChild),this.timeline=document.createElement("div"),this.timeline.className="st-timeline",this.option.linePosition){case"right":this.timeline.classList.add("st-right-line");break;case"center":this.timeline.classList.add("st-center-line");break;default:this.timeline.classList.add("st-left-line")}this.option.progress||this.timeline.classList.add("st-no-progress"),this.option.progressInverted&&this.timeline.classList.add("st-inverted-progress"),this.container.appendChild(this.timeline)}},{key:"renderTimeline",value:function(){if(this.clearItems(),this.option.header){var e=document.createElement("div");e.className="st-header-container";var t=document.createElement("span");t.className="st-header",t.innerHTML=this.option.header.label,e.appendChild(t),this.timeline.appendChild(e)}var i=this.option.autoProgress?new Date:null,n=this.getItems();s(this,p,w).call(this,n);for(var r=0;r<n.length;r++){var o=n[r];s(this,a,f).call(this,o,i)}if(this.option.footer){var l=document.createElement("div");l.className="st-footer-container";var c=document.createElement("span");c.className="st-footer",c.innerHTML=this.option.footer.label,l.appendChild(c),this.timeline.appendChild(l)}}},{key:"createItemContainer",value:function(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=s(this,u,C).call(this,e),r=s(this,o,v).call(this,e),a=document.createElement("div");a.className="st-item-container",a.setAttribute("data-st-date",n.toISOString()),this.option.autoProgress&&null!=i?(n.getTime()<i.getTime()&&a.classList.add("st-passed"),this.isSameDay(n,i)&&a.classList.add("st-current")):("passed"==e.state&&a.classList.add("st-passed"),"current"==e.state&&a.classList.add("st-current"));var l=document.createElement("div");l.className="st-progress-wraper",a.appendChild(l);var c=document.createElement("div");c.className="st-line",l.appendChild(c);var h=document.createElement("div");h.className="st-point ",l.appendChild(h);var p=document.createElement("div");p.className="st-item-wraper","center"==this.option.linePosition&&("left"==r.position?p.classList.add("st-left"):p.classList.add("st-right"));var m=document.createElement("div");m.className="st-item",p.appendChild(m),null!=r.backgroundColor&&(m.style.background=r.backgroundColor,m.style.borderColor=r.backgroundColor),null!=r.borderColor&&(m.style.border="solid 2px "+r.borderColor),null!=r.fontColor&&(m.style.color=r.fontColor);var f=document.createElement("p"),g=null!==(t=this.option.dateFormatter)&&void 0!==t?t:this.defaultDateFormatter;f.innerHTML=g(n),f.className="st-datetime";var b=document.createElement("p"),k=s(this,d,y).call(this,e,"title");b.innerHTML=k?"":e.title,b.className="st-title",null!=r.borderColor&&(b.style.borderColor=r.borderColor);var w=document.createElement("div"),O=s(this,d,y).call(this,e,"content");return w.innerHTML=O?"":e.content,w.className="st-content",m.appendChild(f),k&&O||(m.appendChild(b),m.appendChild(w)),a.appendChild(p),e.refElm=a,a}},{key:"insertItem",value:function(e){for(var t=this.createItemContainer(e),i=s(this,u,C).call(this,e),n=this.getItems(),r=null,a=0;a<n.length;a++){var o=n[a];if(s(this,u,C).call(this,o)>i){null==r?this.timeline.appendChild(t):r.after(t),n.splice(a,0,e);break}r=o.refElm}}},{key:"getItems",value:function(){return this.items}},{key:"setItems",value:function(e){this.items=e}},{key:"getOption",value:function(){return this.option}},{key:"setOption",value:function(e){this.option=s(this,h,k).call(this,e)}},{key:"isSameDay",value:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}}],g=[{key:"setGlobalOption",value:function(t){e.globalOption=t||{}}}],m&&i(t.prototype,m),g&&i(t,g),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.createItemContainer(e,t);return this.timeline.appendChild(i),i}function v(e){var t={};return t=Object.assign(t,m.defaultItemOption),s(this,l,g).call(this,e,"option")&&(t=Object.assign(t,e.option)),t}function g(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function b(e,t){if(!s(this,l,g).call(this,e,t))return!1;var i=e[t];return void 0!==i||null!==i}function y(e,t){return!s(this,c,b).call(this,e,t)||""==e[t]}function C(e){var t=e.date;return t instanceof Date||(t=new Date(t.replace(/-/g,"/"))),t}function k(e){var t={};return t=Object.assign(t,m.defaultOption),t=Object.assign(t,m.globalOption),t=Object.assign(t,e)}function w(e){var t=this;return e&&e.sort((function(e,i){return s(t,u,C).call(t,e)>s(t,u,C).call(t,i)?1:-1})),e}return r(m,"defaultOption",{debug:!1,linePosition:"left",progress:!1,progressInverted:!1,autoProgress:!1,dateFormatter:function(e){return e.toLocaleDateString()},currentLabel:null,header:null,footer:null}),r(m,"defaultItemOption",{position:"right",backgroundColor:null,borderColor:null,fontColor:null}),r(m,"globalOption",{}),t=t.default})()}));