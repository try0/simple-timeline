/*! simple-timeline v0.0.1 | Ryo Tsunoda | license: MIT */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SimpleTimeline=t():e.SimpleTimeline=t()}(this,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}e.d(t,{default:()=>m});var a=new WeakSet,l=new WeakSet,s=new WeakSet,c=new WeakSet,u=new WeakSet,d=new WeakSet,h=new WeakSet,p=new WeakSet,m=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,p),i(this,h),i(this,d),i(this,u),i(this,c),i(this,s),i(this,l),i(this,a),r(this,"container",void 0),r(this,"timeline",void 0),r(this,"option",{}),r(this,"items",[]),this.container=t,null!=n&&(null!=n.option&&(this.option=n.option),null!=n.items&&(this.items=n.items)),this.option=o(this,h,k).call(this,this.option),this.initializeStyleSheet(),this.renderTimeline()}var t,m,b;return t=e,m=[{key:"initializeStyleSheet",value:function(){var e=document.styleSheets,t=e[e.length-1];if(null!=this.option.currentLabel){var n=" .st-timeline .st-item-container.st-current .st-datetime::before { content: '"+this.option.currentLabel+"' !important }",i=this.container.id;if(i)return void t.insertRule("#"+i+n,t.cssRules.length);t.insertRule(n,t.cssRules.length)}}},{key:"clearItems",value:function(){this.container.firstChild&&this.container.removeChild(this.container.firstChild),this.timeline=document.createElement("div"),this.timeline.className="st-timeline",this.option.progress||this.timeline.classList.add("st-no-progress"),this.option.progressInverted&&this.timeline.classList.add("st-inverted-progress"),this.container.appendChild(this.timeline)}},{key:"renderTimeline",value:function(){if(this.clearItems(),this.option.header){var e=document.createElement("div");e.className="st-header-container";var t=document.createElement("span");t.className="st-header",t.innerHTML=this.option.header.label,e.appendChild(t),this.timeline.appendChild(e)}var n=this.option.autoProgress?new Date:null,i=this.getItems();o(this,p,O).call(this,i);for(var r=0;r<i.length;r++){var l=i[r];o(this,a,f).call(this,l,n)}if(this.option.footer){var s=document.createElement("div");s.className="st-footer-container";var c=document.createElement("span");c.className="st-footer",c.innerHTML=this.option.footer.label,s.appendChild(c),this.timeline.appendChild(s)}}},{key:"createItemContainer",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=o(this,d,C).call(this,e),r=document.createElement("div");r.className="st-item-container",r.setAttribute("data-st-date",i.toISOString()),this.option.autoProgress&&null!=n?(i.getTime()<n.getTime()&&r.classList.add("st-passed"),this.isSameDay(i,n)&&r.classList.add("st-current")):("passed"==e.state&&r.classList.add("st-passed"),"current"==e.state&&r.classList.add("st-current"));var a=document.createElement("div");a.className="st-line",r.appendChild(a);var s=document.createElement("div");s.className="st-point ",r.appendChild(s);var c=document.createElement("div");c.className="st-item-wraper";var h=document.createElement("div");h.className="st-item",c.appendChild(h);var p=o(this,l,v).call(this,e);null!=p.backgroundColor&&(h.style.background=p.backgroundColor,h.style.borderColor=p.backgroundColor),null!=p.borderColor&&(h.style.border="solid 2px "+p.borderColor),null!=p.fontColor&&(h.style.color=p.fontColor);var m=document.createElement("p"),f=null!==(t=this.option.dateFormatter)&&void 0!==t?t:this.defaultDateFormatter;m.innerHTML=f(i),m.className="st-datetime";var b=document.createElement("p"),g=o(this,u,y).call(this,e,"title");b.innerHTML=g?"":e.title,b.className="st-title",null!=p.borderColor&&(b.style.borderColor=p.borderColor);var k=document.createElement("div"),O=o(this,u,y).call(this,e,"content");return k.innerHTML=O?"":e.content,k.className="st-content",h.appendChild(m),g&&O||(h.appendChild(b),h.appendChild(k)),r.appendChild(c),e.refElm=r,r}},{key:"insertItem",value:function(e){for(var t=this.createItemContainer(e),n=o(this,d,C).call(this,e),i=this.getItems(),r=null,a=0;a<i.length;a++){var l=i[a];if(o(this,d,C).call(this,l)>n){null==r?this.timeline.appendChild(t):r.after(t),i.splice(a,0,e);break}r=l.refElm}}},{key:"getItems",value:function(){return this.items}},{key:"setItems",value:function(e){this.items=e}},{key:"getOption",value:function(){return this.option}},{key:"setOption",value:function(e){this.option=o(this,h,k).call(this,e)}},{key:"isSameDay",value:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}}],b=[{key:"setGlobalOption",value:function(t){e.globalOption=t||{}}}],m&&n(t.prototype,m),b&&n(t,b),Object.defineProperty(t,"prototype",{writable:!1}),e}();function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.createItemContainer(e,t);return this.timeline.appendChild(n),n}function v(e){var t={};return t=Object.assign(t,m.defaultItemOption),o(this,s,b).call(this,e,"option")&&(t=Object.assign(t,e.option)),t}function b(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function g(e,t){if(!o(this,s,b).call(this,e,t))return!1;var n=e[t];return void 0!==n||null!==n}function y(e,t){return!o(this,c,g).call(this,e,t)||""==e[t]}function C(e){var t=e.date;return t instanceof Date||(t=new Date(t.replace(/-/g,"/"))),t}function k(e){var t={};return t=Object.assign(t,m.defaultOption),t=Object.assign(t,m.globalOption),t=Object.assign(t,e)}function O(e){var t=this;return e&&e.sort((function(e,n){return o(t,d,C).call(t,e)>o(t,d,C).call(t,n)?1:-1})),e}return r(m,"defaultOption",{debug:!1,progress:!1,progressInverted:!1,autoProgress:!1,dateFormatter:function(e){return e.toLocaleDateString()},currentLabel:null,header:null,footer:null}),r(m,"defaultItemOption",{backgroundColor:null,borderColor:null,fontColor:null}),r(m,"globalOption",{}),t=t.default})()}));