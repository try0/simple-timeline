/*! simple-timeline v0.0.1 | Ryo Tsunoda | license: MIT */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.SimpleTimeline=t():e.SimpleTimeline=t()}(this,(function(){return(()=>{"use strict";var e={d:(t,n)=>{for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function i(e,t){!function(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}(e,t),t.add(e)}function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return n}e.d(t,{default:()=>m});var o=new WeakSet,s=new WeakSet,l=new WeakSet,c=new WeakSet,u=new WeakSet,d=new WeakSet,h=new WeakSet,m=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,h),i(this,d),i(this,u),i(this,c),i(this,l),i(this,s),i(this,o),r(this,"container",void 0),r(this,"timeline",void 0),r(this,"option",{}),r(this,"items",[]),this.container=t,null!=n&&(null!=n.option&&(this.option=n.option),null!=n.items&&(this.items=n.items)),this.option=a(this,d,y).call(this,this.option),this.initializeStyleSheet(),this.renderTimeline()}var t,m,v;return t=e,v=[{key:"setGlobalOption",value:function(t){e.globalOption=t||{}}},{key:"isSameDay",value:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}},{key:"isSameDayHour",value:function(t,n){return e.isSameDay(t,n)&&t.getHours()===n.getHours()}},{key:"getItemDate",value:function(e){var t=e.date;return t instanceof Date||(t=new Date(t.replace(/-/g,"/"))),t}}],(m=[{key:"initializeStyleSheet",value:function(){var e=document.styleSheets,t=e[e.length-1];if(null!=this.option.currentLabel){var n=" .st-timeline .st-item-container.st-current .st-datetime::before { content: '"+this.option.currentLabel+"' !important }",i=this.container.id;if(i)return void t.insertRule("#"+i+n,t.cssRules.length);t.insertRule(n,t.cssRules.length)}}},{key:"clearItems",value:function(){switch(this.container.firstChild&&this.container.removeChild(this.container.firstChild),this.timeline=document.createElement("div"),this.timeline.className="st-timeline",this.option.linePosition){case"right":this.timeline.classList.add("st-right-line");break;case"center":this.timeline.classList.add("st-center-line");break;default:this.timeline.classList.add("st-left-line")}this.option.progress||this.timeline.classList.add("st-no-progress"),this.option.progressInverted&&this.timeline.classList.add("st-inverted-progress"),this.container.appendChild(this.timeline)}},{key:"renderTimeline",value:function(){if(this.clearItems(),this.option.header){var e=document.createElement("div");e.className="st-header-container";var t=document.createElement("span");t.className="st-header",t.innerHTML=this.option.header.label,e.appendChild(t),this.timeline.appendChild(e)}var n=this.option.autoProgress?new Date:null,i=this.getItems();a(this,h,C).call(this,i);for(var r=0;r<i.length;r++){var s=i[r];s.renderDate=n,a(this,o,p).call(this,s)}if(this.option.footer){var l=document.createElement("div");l.className="st-footer-container";var c=document.createElement("span");c.className="st-footer",c.innerHTML=this.option.footer.label,l.appendChild(c),this.timeline.appendChild(l)}}},{key:"createItemContainer",value:function(t){var n,i=e.getItemDate(t),r=a(this,s,f).call(this,t),o=document.createElement("div");o.className="st-item-container",o.setAttribute("data-st-date",i.toISOString());var l=document.createElement("div");l.className="st-progress-wraper",o.appendChild(l);var c=document.createElement("div");c.className="st-line",l.appendChild(c);var d=document.createElement("div");d.className="st-point ",l.appendChild(d);var h=document.createElement("div");h.className="st-item-wraper","center"==this.option.linePosition&&("left"==r.position?h.classList.add("st-left"):h.classList.add("st-right"));var m=document.createElement("div");m.className="st-item",h.appendChild(m),null!=r.backgroundColor&&(m.style.background=r.backgroundColor,m.style.borderColor=r.backgroundColor),null!=r.borderColor&&(m.style.border="solid 2px "+r.borderColor),null!=r.fontColor&&(m.style.color=r.fontColor);var p="";"passed"==(p=this.option.autoProgress?this.option.itemStateFactory(t,t.renderDate):t.state)?o.classList.add("st-passed"):"current"==p?o.classList.add("st-current"):o.classList.add("st-schedule");var v=document.createElement("p"),g=null!==(n=this.option.dateFormatter)&&void 0!==n?n:this.defaultDateFormatter;v.innerHTML=g(i),v.className="st-datetime";var y=document.createElement("p"),C=a(this,u,b).call(this,t,"title");y.innerHTML=C?"":t.title,y.className="st-title",null!=r.borderColor&&(y.style.borderColor=r.borderColor);var k=document.createElement("div"),w=a(this,u,b).call(this,t,"content");return k.innerHTML=w?"":t.content,k.className="st-content",m.appendChild(v),C&&w||(m.appendChild(y),m.appendChild(k)),o.appendChild(h),t.refElm=o,o}},{key:"insertItem",value:function(t){for(var n=this.createItemContainer(t),i=e.getItemDate(t),r=this.getItems(),a=null,o=0;o<r.length;o++){var s=r[o];if(e.getItemDate(s)>i){null==a?this.timeline.appendChild(n):a.after(n),r.splice(o,0,t);break}a=s.refElm}r.includes(t)||(this.timeline.appendChild(n),r.push(t))}},{key:"getItems",value:function(){return this.items}},{key:"setItems",value:function(e){this.items=e}},{key:"getOption",value:function(){return this.option}},{key:"setOption",value:function(e){this.option=a(this,d,y).call(this,e)}}])&&n(t.prototype,m),v&&n(t,v),Object.defineProperty(t,"prototype",{writable:!1}),e}();function p(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this.createItemContainer(e,t);return this.timeline.appendChild(n),n}function f(e){var t={};return t=Object.assign(t,m.defaultItemOption),a(this,l,v).call(this,e,"option")&&(t=Object.assign(t,e.option)),t}function v(e,t){return null!=e&&Object.prototype.hasOwnProperty.call(e,t)}function g(e,t){if(!a(this,l,v).call(this,e,t))return!1;var n=e[t];return void 0!==n||null!==n}function b(e,t){return!a(this,c,g).call(this,e,t)||""==e[t]}function y(e){var t={};return t=Object.assign(t,m.defaultOption),t=Object.assign(t,m.globalOption),t=Object.assign(t,e)}function C(e){return e&&e.sort((function(e,t){return m.getItemDate(e)>m.getItemDate(t)?1:-1})),e}return r(m,"defaultOption",{debug:!1,linePosition:"left",progress:!1,progressInverted:!1,autoProgress:!1,currentLabel:null,header:null,footer:null,dateFormatter:function(e){return null==e?"":e.toLocaleDateString()},itemStateFactory:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e)return"";var n=m.getItemDate(e),i=m.isSameDay(n,null!=t?t:new Date);return i?"current":n.getTime()<t.getTime()?"passed":"schedule"}}),r(m,"defaultItemOption",{position:"right",backgroundColor:null,borderColor:null,fontColor:null}),r(m,"globalOption",{}),t=t.default})()}));