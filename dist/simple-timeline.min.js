/*! simple-timeline v0.0.1 | Ryo Tsunoda | license: MIT */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.SimpleTimeline=e():t.SimpleTimeline=e()}(this,(function(){return(()=>{"use strict";var t={d:(e,i)=>{for(var n in i)t.o(i,n)&&!t.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:i[n]})},o:(t,e)=>Object.prototype.hasOwnProperty.call(t,e)},e={};function i(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function n(t,e){!function(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}(t,e),e.add(t)}function l(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function r(t,e,i){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return i}t.d(e,{default:()=>m});var a=new WeakSet,o=new WeakSet,s=new WeakSet,h=new WeakSet,c=new WeakSet,u=new WeakSet,d=new WeakSet,p=new WeakSet,m=function(){function t(e,i){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),n(this,p),n(this,d),n(this,u),n(this,c),n(this,h),n(this,s),n(this,o),n(this,a),l(this,"container",void 0),l(this,"timeline",void 0),l(this,"itemTemplate",void 0),l(this,"option",{}),l(this,"items",[]),this.container=e,null!=i&&(null!=i.option&&(this.option=i.option),null!=i.items&&(this.items=i.items)),this.option=r(this,u,C).call(this,this.option),"content"in document.createElement("template")){var m=this.container.getElementsByTagName("template");this.itemTemplate=m&&m.length>0?m[0]:null}this.initializeStyleSheet(),this.renderTimeline()}var e,m,g;return e=t,g=[{key:"setGlobalOption",value:function(e){t.globalOption=e||{}}},{key:"isSameDay",value:function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()}},{key:"isSameDayHour",value:function(e,i){return t.isSameDay(e,i)&&e.getHours()===i.getHours()}},{key:"getItemDate",value:function(t){var e=t.date;return e instanceof Date||(e=new Date(e.replace(/-/g,"/"))),e}}],(m=[{key:"initializeStyleSheet",value:function(){var t=document.styleSheets,e=t[t.length-1];if(null!=this.option.currentLabel){var i=" .st-timeline .st-item-container.st-current .st-datetime::before { content: '"+this.option.currentLabel+"' !important }",n=this.container.id;if(n)return void e.insertRule("#"+n+i,e.cssRules.length);e.insertRule(i,e.cssRules.length)}}},{key:"clearItems",value:function(){switch(this.container.firstChild&&this.container.removeChild(this.container.firstChild),this.timeline=document.createElement("div"),r(this,p,S).call(this,this.timeline,"st-timeline"),this.option.linePosition){case"right":r(this,p,S).call(this,this.timeline,"st-right-line");break;case"center":r(this,p,S).call(this,this.timeline,"st-center-line");break;default:r(this,p,S).call(this,this.timeline,"st-left-line")}this.option.progress||r(this,p,S).call(this,this.timeline,"st-no-progress"),this.option.progressInverted&&r(this,p,S).call(this,this.timeline,"st-inverted-progress"),this.container.appendChild(this.timeline)}},{key:"renderTimeline",value:function(){if(this.clearItems(),this.option.header){var t=document.createElement("div");r(this,p,S).call(this,t,"st-header-container");var e=document.createElement("span");r(this,p,S).call(this,e,"st-header"),e.innerHTML=this.option.header.label,t.appendChild(e),this.timeline.appendChild(t)}var i=this.option.autoProgress?new Date:null,n=this.getItems();r(this,d,k).call(this,n);for(var l=0;l<n.length;l++){var o=n[l];o.renderDate=i,r(this,a,f).call(this,o)}if(this.option.footer){var s=document.createElement("div");r(this,p,S).call(this,s,"st-footer-container");var h=document.createElement("span");r(this,p,S).call(this,h,"st-footer"),h.innerHTML=this.option.footer.label,s.appendChild(h),this.timeline.appendChild(s)}}},{key:"createItemContainer",value:function(e){var i=t.getItemDate(e),n=r(this,o,v).call(this,e),l=document.createElement("div");r(this,p,S).call(this,l,"st-item-container"),l.setAttribute("data-st-date",i.toISOString());var a=document.createElement("div");r(this,p,S).call(this,a,"st-progress-wraper"),l.appendChild(a);var s=document.createElement("div");r(this,p,S).call(this,s,"st-line"),a.appendChild(s);var h=document.createElement("div");r(this,p,S).call(this,h,"st-point"),a.appendChild(h);var u=document.createElement("div");r(this,p,S).call(this,u,"st-item-wraper"),"center"==this.option.linePosition&&("left"==n.position?r(this,p,S).call(this,u,"st-left"):r(this,p,S).call(this,u,"st-right"));var d="";if("passed"==(d=this.option.autoProgress?this.option.itemStateFactory(e,e.renderDate):e.state)?r(this,p,S).call(this,l,"st-passed"):"current"==d?r(this,p,S).call(this,l,"st-current"):r(this,p,S).call(this,l,"st-schedule"),this.itemTemplate){var m=this.itemTemplate.content.cloneNode(!0);r(this,p,S).call(this,m,"st-item");var f=m.querySelector("[data-st-datetime]");if(f){var g,b=null!==(g=this.option.dateFormatter)&&void 0!==g?g:this.defaultDateFormatter;f.innerHTML=b(i)}var C=m.querySelector("[data-st-title]");if(C){var k=r(this,c,y).call(this,e,"title");C.innerHTML=k?"":e.title}var w=m.querySelector("[data-st-content]");if(w){var O=r(this,c,y).call(this,e,"content");w.innerHTML=O?"":e.content}u.appendChild(m)}else{var D,I=document.createElement("div");r(this,p,S).call(this,I,"st-item"),null!=n.backgroundColor&&(I.style.background=n.backgroundColor,I.style.borderColor=n.backgroundColor),null!=n.borderColor&&(I.style.border="solid 2px "+n.borderColor),null!=n.fontColor&&(I.style.color=n.fontColor);var T=document.createElement("p"),E=null!==(D=this.option.dateFormatter)&&void 0!==D?D:this.defaultDateFormatter;T.innerHTML=E(i),r(this,p,S).call(this,T,"st-datetime");var j=document.createElement("p"),L=r(this,c,y).call(this,e,"title");j.innerHTML=L?"":e.title,r(this,p,S).call(this,j,"st-title"),null!=n.borderColor&&(j.style.borderColor=n.borderColor);var P=document.createElement("div"),H=r(this,c,y).call(this,e,"content");P.innerHTML=H?"":e.content,r(this,p,S).call(this,P,"st-content"),I.appendChild(T),L&&H||(I.appendChild(j),I.appendChild(P)),u.appendChild(I)}return l.appendChild(u),e.refElm=l,l}},{key:"insertItem",value:function(e){for(var i=this.createItemContainer(e),n=t.getItemDate(e),l=this.getItems(),r=null,a=0;a<l.length;a++){var o=l[a];if(t.getItemDate(o)>n){null==r?this.timeline.appendChild(i):r.after(i),l.splice(a,0,e);break}r=o.refElm}l.includes(e)||(this.timeline.appendChild(i),l.push(e))}},{key:"getItems",value:function(){return this.items}},{key:"setItems",value:function(t){this.items=t}},{key:"getOption",value:function(){return this.option}},{key:"setOption",value:function(t){this.option=r(this,u,C).call(this,t)}}])&&i(e.prototype,m),g&&i(e,g),Object.defineProperty(e,"prototype",{writable:!1}),t}();function f(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.createItemContainer(t,e);return this.timeline.appendChild(i),i}function v(t){var e={};return e=Object.assign(e,m.defaultItemOption),r(this,s,g).call(this,t,"option")&&(e=Object.assign(e,t.option)),e}function g(t,e){return null!=t&&Object.prototype.hasOwnProperty.call(t,e)}function b(t,e){if(!r(this,s,g).call(this,t,e))return!1;var i=t[e];return void 0!==i||null!==i}function y(t,e){return!r(this,h,b).call(this,t,e)||""==t[e]}function C(t){var e={};return e=Object.assign(e,m.defaultOption),e=Object.assign(e,m.globalOption),e=Object.assign(e,t)}function k(t){return t&&t.sort((function(t,e){return m.getItemDate(t)>m.getItemDate(e)?1:-1})),t}function S(t,e){t&&(t.classList?t.classList.add(e):t.className="className")}return l(m,"defaultOption",{debug:!1,linePosition:"left",progress:!1,progressInverted:!1,autoProgress:!1,currentLabel:null,header:null,footer:null,dateFormatter:function(t){return null==t?"":t.toLocaleDateString()},itemStateFactory:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return"";var i=m.getItemDate(t),n=m.isSameDay(i,null!=e?e:new Date);return n?"current":i.getTime()<e.getTime()?"passed":"schedule"}}),l(m,"defaultItemOption",{position:"right",backgroundColor:null,borderColor:null,fontColor:null}),l(m,"globalOption",{}),e=e.default})()}));